(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-extractMoney-extractMoney1-extractMoney1"],{"084f":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var i={tuiIcon:a("83bb").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container",staticStyle:{padding:"0",height:"100vh","background-color":"#fff"}},[1==t.isShowBank?a("v-uni-view",{staticStyle:{"background-color":"#fbf9fe",height:"100vh"}},[a("v-uni-view",{staticClass:"lay_head"},[a("v-uni-view",{staticClass:"lay_money background_style"},[a("v-uni-view",{staticClass:"lay_test"},[t._v("余额")]),a("v-uni-view",{staticClass:"lay_money_num"},[t._v("￥"),a("v-uni-text",[t._v(t._s(t.sumMoney))])],1),a("v-uni-view",{},[t._v("手续费："),a("v-uni-text",[t._v("0.00")])],1)],1)],1),a("v-uni-view",{staticClass:"lay_group"},[a("v-uni-view",{staticClass:"lay_row"},[a("v-uni-view",{staticClass:"lay_row_test"},[t._v("银行名称")]),a("v-uni-view",{staticClass:"lay_row_info lay_bank"},[t._v(t._s(t.userBankName))])],1),a("v-uni-view",{staticClass:"lay_row"},[a("v-uni-view",{staticClass:"lay_row_test"},[t._v("银行卡号")]),a("v-uni-view",{staticClass:"lay_row_info lay_bank"},[t._v("····    ····    ····    "+t._s(t.userBankCode))])],1),a("v-uni-view",{staticClass:"lay_row"},[a("v-uni-view",{staticClass:"lay_row_test"},[t._v("提款金额")]),a("v-uni-view",{staticClass:"lay_row_input"},[a("v-uni-input",{attrs:{type:"number",value:"",placeholder:"请输入提款金额"},model:{value:t.money,callback:function(e){t.money=e},expression:"money"}})],1)],1),a("v-uni-view",{staticClass:"lay_row"},[a("v-uni-view",{staticClass:"lay_row_test"},[t._v("提现密码")]),a("v-uni-view",{staticClass:"lay_row_input"},[a("v-uni-input",{attrs:{type:"text",value:"",placeholder:"请输入提现密码"},model:{value:t.pwdCash,callback:function(e){t.pwdCash=e},expression:"pwdCash"}})],1)],1),a("v-uni-view",{staticClass:"lay_row"},[t._v("出款上限："),a("v-uni-text",[t._v(t._s(t.moneyMax))]),t._v("；出款下限："),a("v-uni-text",[t._v(t._s(t.moneyMin))])],1)],1),t.isDrawTime?t._e():a("v-uni-view",{staticClass:"draw_time"},[t._v("每日提现时间为"+t._s(t.drawBegTime.value)+"至"+t._s(t.drawEndTime.value))]),a("v-uni-view",{staticClass:"lay_btn btn_style",class:{missTime:!t.isDrawTime}},[a("v-uni-button",{attrs:{type:"default","hover-class":"btn_hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[t._v("提交")])],1)],1):t._e(),2==t.isShowBank?a("v-uni-view",{staticClass:"data_lack",staticStyle:{width:"100%",height:"100vh","background-color":"#fff"}},[a("v-uni-view",{staticClass:"lack_box"},[a("tui-icon",{attrs:{name:"nodata",size:120}}),a("v-uni-text",{staticClass:"lack_test"},[t._v("您还没有绑定银行卡")]),a("v-uni-button",{staticClass:"coin_query",staticStyle:{"background-color":"#fcd030"},attrs:{type:"default","hover-class":"btn_hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toAddBank.apply(void 0,arguments)}}},[t._v("去绑定")])],1)],1):t._e(),3==t.isShowBank?a("v-uni-view",{staticClass:"data_lack",staticStyle:{width:"100%",height:"100vh","background-color":"#fff"}},[a("v-uni-view",{staticClass:"lack_box"},[a("tui-icon",{attrs:{name:"nodata",size:120}}),a("v-uni-text",{staticClass:"lack_test"},[t._v("您还没有登录账号")]),a("v-uni-button",{staticClass:"coin_query",staticStyle:{"background-color":"#fcd030"},attrs:{type:"default","hover-class":"btn_hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toLogin.apply(void 0,arguments)}}},[t._v("去登录")])],1)],1):t._e()],1)},o=[]},3121:function(t,e,a){"use strict";a.r(e);var i=a("5396"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},5396:function(t,e,a){"use strict";var i=a("4ea4");a("4160"),a("acd8"),a("e25e"),a("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("56b3")),o=i(a("c0bb")),s=i(a("97ac")),r=i(a("7356")),l=(i(a("cc64")),{data:function(){return{userEn:[],userBankEn:[],sumMoney:null,userBankCode:null,userBankName:"",uid:"",money:null,pwdCash:null,isShowBank:0,moneyMin:null,moneyMax:null,isDrawTime:!0,drawBegTime:"",drawEndTime:""}},onLoad:function(t){t.loginType?this.isShowBank=3:(this.uid=n.default.getUid(),this.getMyInfo(),this.getDrawTime())},methods:{getDrawTime:function(){var t=this,e={page:1,count:5,key:"draw_time_max|draw_time_min"};s.default.getConfig(e,(function(e){var a=s.default.getData(e).data;a.forEach((function(e,a){"draw_time_max"==e.key&&(t.drawEndTime=e),"draw_time_min"==e.key&&(t.drawBegTime=e)})),s.default.getSystemTimeNow({},(function(e){var a=s.default.getData(e);a=a.substring(11),a>t.drawEndTime.value||a<t.drawBegTime.value?t.isDrawTime=!1:t.isDrawTime=!0}))}))},toLogin:function(){uni.navigateTo({url:"/pages/login/login"})},toAddBank:function(){uni.navigateTo({url:"/pages/my/setting/bank/updBank/updBank?type=1&account="+this.userEn.account})},getMyInfo:function(){var t=this;s.default.getUserByUid({uid:this.uid},(function(e){n.default.setMyInfo(s.default.getData(e)),t.userEn=s.default.getData(e),t.sumMoney=t.userEn.money,t.getMyBankInfo()}))},getMyBankInfo:function(){var t=this,e={uid:this.uid,page:1,count:5};s.default.getUserBank(e,(function(e){var a=s.default.getData(e).data;o.default.isEmpty(a)?t.isShowBank=2:(t.userBankEn=a[0],t.userBankName=a[0].bank,t.userBankCode=a[0].bankCode.substring(a[0].bankCode.length-4),t.isShowBank=1,t.getDrawLimit())}))},getDrawLimit:function(){var t=this;s.default.getDrawLimit({uid:this.uid,level:this.userEn.level},(function(e){var a=s.default.getData(e);t.moneyMin=a.min,t.moneyMax=a.max}))},confirm:function(){if(this.isDrawTime){var t=this;uni.showModal({title:"提示",content:"您确定提现？",success:function(e){if(e.confirm){if(o.default.isEmpty(t.money)||o.default.isEmpty(t.pwdCash))return void uni.showToast({title:"请输入完整信息",image:"/static/img/fail-circle.png",duration:2e3});if(parseInt(t.sumMoney)<parseInt(t.money))return void uni.showToast({title:"可提现金额不足",image:"/static/img/fail-circle.png",duration:2e3});if(parseInt(t.money)<t.moneyMin)return void uni.showToast({title:"出款下限最低为"+t.moneyMin,image:"/static/img/fail-circle.png",duration:2e3});if(parseInt(t.money)>t.moneyMax)return void uni.showToast({title:"出款上限最高为"+t.moneyMax,image:"/static/img/fail-circle.png",duration:2e3});if(!t.isNum(parseFloat(t.money)))return void uni.showToast({title:"提现金额只能是整数",image:"/static/img/fail-circle.png",duration:2e3});t.submitExtractMoney()}else e.cancel&&console.log("用户点击取消")}})}},isNum:function(t){var e=/^[0-9]*$/;return e.test(t)},submitExtractMoney:function(){s.default.addMoneyDraw({uid:this.uid,money:this.money,pwdCash:(0,r.default)(this.pwdCash)},(function(t){var e=s.default.getCode(t),a=s.default.getMsg(t);0==e?uni.showModal({content:"提现申请提交"+a,showCancel:!1,success:function(t){t.confirm&&uni.navigateTo({url:"/pages/my/detailed/detailed?type=1"})}}):uni.showModal({content:a,showCancel:!1})}))}}});e.default=l},"762b":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".lay_head[data-v-5d6eac08]{padding:%?20?%;box-sizing:border-box}.lay_money[data-v-5d6eac08]{width:100%;height:%?200?%;border-radius:10px;color:#fff;padding-left:%?40?%;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;font-size:14px\n\t\t/* position:relative; */}.lay_test[data-v-5d6eac08]{\n/* \t\tposition:absolute;\n\t\ttop:40rpx; */}.lay_money_num[data-v-5d6eac08]{font-size:24px;font-weight:700\n/* \t\tposition:absolute;\n\t\tbottom:40rpx; */}.lay_group[data-v-5d6eac08]{margin-top:%?20?%;border-top:1px solid #f9f7fa;border-bottom:1px solid #f9f7fa;padding-left:%?30?%;box-sizing:border-box;background-color:#fff}.lay_row[data-v-5d6eac08]{padding:%?20?% 0 %?20?% 0;box-sizing:border-box;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:15px;border-bottom:1px solid #f9f9f9}.lay_row_test[data-v-5d6eac08]{width:24%;text-align:right}.lay_row>uni-text[data-v-5d6eac08]{color:#dc3b40}.lay_row_info[data-v-5d6eac08]{padding-right:%?40?%;box-sizing:border-box;-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:right}.lay_btn>uni-button[data-v-5d6eac08]{font-size:14px;width:80%;margin-top:%?40?%}.lay_bank[data-v-5d6eac08]{color:#999}.lay_row_test[data-v-5d6eac08]{width:20%;text-align:right}.lay_row_input[data-v-5d6eac08]{padding:0 %?40?%;box-sizing:border-box;-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex}.lay_row_input>uni-input[data-v-5d6eac08]{font-size:15px;-webkit-box-flex:1;-webkit-flex:1;flex:1}.lack_box[data-v-5d6eac08]{width:100%;height:%?700?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.lack_test[data-v-5d6eac08]{font-size:16px;margin-top:%?20?%;display:inline-block}.coin_query[data-v-5d6eac08]{margin-top:%?40?%;background-color:#fcd030;font-size:16px;border-radius:%?40?%;width:%?400?%}.coin_query[data-v-5d6eac08]::after{border:none}.draw_time[data-v-5d6eac08]{color:#dc3b40;text-align:center;font-size:14px;margin-top:%?40?%}.missTime>uni-button[data-v-5d6eac08]{background-color:#e3e3e3}",""]),t.exports=e},"772c":function(t,e,a){"use strict";a.r(e);var i=a("084f"),n=a("3121");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("e4a2");var s,r=a("f0c5"),l=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"5d6eac08",null,!1,i["a"],s);e["default"]=l.exports},b100:function(t,e,a){var i=a("762b");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("a815901c",i,!0,{sourceMap:!1,shadowMode:!1})},cc64:function(t,e,a){a("e25e"),t.exports={timeChange:function(t){if(null==t)return"";var e="",a=parseInt(t/3600);a>0&&(e+="".concat(a,"小时"));var i=parseInt([t-3600*a]/60);i>0&&(e+="".concat(i,"分"));var n=parseInt(t-[3600*a+60*i]);return n>0&&(e+="".concat(n,"秒")),e},toHHmmss:function(t){var e,a=parseInt(t%864e5/36e5),i=parseInt(t%36e5/6e4),n=t%6e4/1e3;return e=(a<10?"0"+a:a)+"小时"+(i<10?"0"+i:i)+"分"+(n<10?"0"+n:n)+"秒",e},getNowTime:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1;a<10&&(a="0"+a);var i=t.getDate();i<10&&(i="0"+i);var n=t.getHours();n<10&&(n="0"+n);var o=t.getMinutes();o<10&&(o="0"+o);var s=t.getSeconds();s<10&&(s="0"+s);var r=e+"-"+a+"-"+i+" "+n+":"+o+":"+s;return r},getNowTimeHMS:function(){var t=new Date,e=t.getHours();e<10&&(e="0"+e);var a=t.getMinutes();a<10&&(a="0"+a);var i=t.getSeconds();i<10&&(i="0"+i);var n=e+":"+a+":"+i;return n},getNowBeg:function(){var t=new Date;return this.getDateBeg(t)},getNowEnd:function(){var t=new Date;return this.getDateEnd(t)},getDateBeg:function(t){var e=this.formatYMD(t);return e+" 00:00:00"},getDateEnd:function(t){var e=this.formatYMD(t);return e+" 23:59:59"},formatYMD:function(t){var e=t.getFullYear(),a=t.getMonth()+1;a<10&&(a="0"+a);var i=t.getDate();return i<10&&(i="0"+i),e+"-"+a+"-"+i}}},e4a2:function(t,e,a){"use strict";var i=a("b100"),n=a.n(i);n.a}}]);